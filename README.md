# Определение пресечения трехточечных объектов
## Описание проекта

Исходный код находится в директории ```src/lib/``` и представляет изсебя библиотеку классов. В каталоге ```app/app.cs``` находится консольное придожение для тестового запуска. 

В директории ```/test``` находятся тесты базового функционала классов используемых в решении, а также собственно тестового задания.

Реализовано пять классов:
* Vector - реализующий базовые векторные операции, задается тремя double;
* Line - представляющий объект бесконечной прямой, задается направляющей прямой и базисной точкой;
* Plane - объект плоскости;
* Triangle - объект треугольника, задается тремя точками;
* Segment - объект отрезка задается двумя точками.

Классы Triangle и Segment используют функционал в классов Plane и Line определяет пересекаются ли эти объекты.  Классы Vector, Segment и Triangle унаследованы от интерфейса IFigure для обеспечения определения пересечения независимо от типа переданных объектов.
## Описание алгоритма
По трем точкам определяется объект треугольник, если он корректный, то с ним происходят все операции. В случае вырожденности в отрезок берется отрезок максимальной длины. В случае выражденности в точку берется случайная точка.

Существует шесть случаев.
1. Пересечение двух точек
Самый простой случай, проверяется равенство двух точек.
2. Пересечение точки и отрезка.
Проверяется путем определения принадлежности точки прямой образованной двумя точками отрезка, в случае принадлежности проверяем равенство точки концам отрезка или разнонаправленность векторов направленных из этой точки в концы отрезка.
3. Пересечение двух отрезков.
Определяется пересекаются ли прямые образованные точками отрезков. При наличии пересечения определяем принадлежит ли точка обоим отрезкам.
4. Пересечение точки и треугольника.
Из произвольной вершины через данную точк проводится прямая и определяется пересекается ли она с прямой образованной стороной противоположной выбранной вершине. По наличию пересечения проверяться принадлежит ли эта точка стороне треугольника противоположной выбранной вершине. А также принадлежит ли данная точка отрезку образованному на выбранной вершине  и точке пересечения.
5. Пересечение отрезка и треугольника  
Три случая:  
    1. Если прямая образованная на точках отрезка лежит в одной плоскости с треугольником, то определяется принадлежит ли одна из точек отрезка треугольнику (отсекаем случай когда отрезок целиком лежит внутри треугольника) иначе ищется хотя бы одно пересечение отрезка со стороной треугольника.
    2. Если прямая прямая образованная точками отрезка пересекается с плоскостью треугольника, проверяется принадлежит ли точка пересечения треугольнику и отрезку.
    3. Последний случай, пересечения нет, отрезок и плоскость треугольника параллельны.
6. Пересечение двух треугольников  
Три случая:  
    1. Если треугольники лежат в одной плоскости, проверяется принадлежит ли случайная точка треугольника другому (проверка полной вложенности одного треугольника в другой). В противном случае ищем хотя бы одно пересечение сторон треугольников.
    2. Если плоскости треугольников пересекаются, ищем пересечение этой прямой со сторонами треугольника и определяем принадлежность точки пересечения обоим треугольникам.
    3. Последний случай, пересечения нет, треугольники параллельны.

## Запуск
В корень репозитория добавлен файл решения sln и в него добавлены все зависимости. Для запуска тестов в корне проекта выполните команду ```dotnet test```, библиотека классов будет автоматически собрана.  
Для прямой сборки выполните в корне ```dotnet build```.  
Для запуска консольного приложения используйте выполните ```dotnet run --project src/app/app.csproj``` или перейдите в директорию app и выполните ```dotnet run```.    
Вся разработка велась в среде Linux, но также проверялась в Visual Studio, благодаря файлу решения все должно запускаться.